<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <!-- MindAR and A-Frame scripts -->
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image.prod.js"></script>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-super-hands-component@4.0.1/dist/aframe-super-hands.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
  </head>

  <body>
    <div class="example-container">
      <div id="example-scanning-overlay" class="hidden">
        <div class="inner">
          <img src="dji.jpg" alt=""/>
          <div class="scanline"></div>
        </div>
      </div>
      <a-scene
        mindar-image="imageTargetSrc: ./targets1.mind; showStats: false; uiScanning: #example-scanning-overlay;"
        embedded
        color-space="sRGB"
        renderer="colorManagement: true, physicallyCorrectLights"
        vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false"
      >
        <a-assets>
          <img id="icon-web" src="twitter.png" />
          <a-asset-item id="robot" src="dji_action_2.glb"></a-asset-item>
          <img id="icon-insta" src="1.png" />
          <img id="icon-facebook" src="2.png" />
          <img id="icon-whatsapp" src="3.png" />
          <video id="scard-video" autoplay="false" loop="true" src="Beaugty.mp4"></video>
          <img id="for-preview" src="makgeup.png" />
          <img id="paintandquest-preview" src="4.png" />
          <img id="new-image" src="6.png" />
          <img id="facebook-image" src="5.png" />
          <img id="whatsapp-image" src="D.png" />
          <video id="paintandquest-video-mp4" autoplay="false" loop="true" src="0810.mp4"></video>
        </a-assets>

        <a-camera
          position="0 0 0"
          look-controls="enabled: false"
          cursor="fuse: false; rayOrigin: mouse;"
          raycaster="far: 10000; objects: .clickable"
        >
        </a-camera>

        <a-entity id="mytarget" mytarget mindar-image-target="targetIndex: 0">
          <a-entity id="portfolio-item0">
            <a-video id="paintandquest-video-link" webkit-playsinline playsinline width="0.9" height="0.6" position="0 0.7 0"></a-video>
            <a-image id="paintandquest-preview-button" class="clickable" src="#paintandquest-preview" alpha-test="0.5" position="0 0.7 0" height="0.6" width="0.9"></a-image>
          </a-entity>

          <a-entity
          gltf-model="#robot"
          scale="0.009 0.009 0.009"
          position="0 -0.42 0"
          rotation="0 0 0"
          class="clickable"
          super-hands="pinch-scale: true; drag-rotate: true;"
          animation="property: rotation; to: 0 360 0; loop: true; dur: 10000;"
        >
        </a-entity>
        

          <a-image
            visible="true"
            id="web-button"
            class="clickable"
            src="#icon-web"
            position="-0.38 -0.25 0"
            height="0.0"
            width="0.0"
          ></a-image>

          <a-image
            visible="true"
            id="insta-button"
            class="clickable"
            src="#icon-insta"
            alpha-test="0.5"
            position="-0.35 0 0"
            height="0.20"
            width="0.20"
            animation="property: scale; to: 1.1 1.1 1.1; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
          ></a-image>
          <a-image
            visible="true"
            id="facebook-button"
            class="clickable"
            src="#icon-facebook"
            alpha-test="0.5"
            position="0.35 0 0"
            height="0.20"
            width="0.20"
            animation="property: scale; to: 1.1 1.1 1.1; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
          ></a-image>
          <a-image
            visible="true"
            id="whatsapp-button"
            class="clickable"
            src="#icon-whatsapp"
            position="0 -0.55 0"
            height="0.20"
            width="0.20"
            animation="property: scale; to: 1.1 1.1 1.1; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
          ></a-image>

          <a-text
            value="DJI ACTION 2"
            color="#FFFFFF"
            width="2"
            position="-0.27 1.1 0"
            text-align="center"
            scale="0.9 0.9 0.9"
            font-weight="900"
          ></a-text>
        </a-entity>
      </a-scene>
    </div>
  </body>

  <script>
    // Function to show additional info on button clicks
    const showInfo = () => {
      const instaButton = document.querySelector("#insta-button");
      const facebookButton = document.querySelector("#facebook-button");
      const whatsappButton = document.querySelector("#whatsapp-button");

      // Handle Instagram button click
      instaButton.addEventListener("click", function () {
        const newImage = document.createElement("a-image");
        newImage.setAttribute("src", "#new-image");
        newImage.setAttribute("position", "-0.90 0 0");
        newImage.setAttribute("height", "0.6");
        newImage.setAttribute("width", "0.9");
        document.querySelector("#portfolio-item0").appendChild(newImage);
        newImage.setAttribute("visible", true);
      });

      // Handle Facebook button click
      facebookButton.addEventListener("click", function () {
        const facebookImage = document.createElement("a-image");
        facebookImage.setAttribute("src", "#facebook-image");
        facebookImage.setAttribute("position", "0.9 0 0");
        facebookImage.setAttribute("height", "0.6");
        facebookImage.setAttribute("width", "0.9");
        document.querySelector("#portfolio-item0").appendChild(facebookImage);
        facebookImage.setAttribute("visible", true);
      });

      // Handle WhatsApp button click
      whatsappButton.addEventListener("click", function () {
        const whatsappImage = document.createElement("a-image");
        whatsappImage.setAttribute("src", "#whatsapp-image");
        whatsappImage.setAttribute("position", "0 -0.95 0");
        whatsappImage.setAttribute("height", "0.6");
        whatsappImage.setAttribute("width", "0.9");
        document.querySelector("#portfolio-item0").appendChild(whatsappImage);
        whatsappImage.setAttribute("visible", true);
      });
    };

    const paintandquestPreviewButton = document.querySelector("#paintandquest-preview-button");
    paintandquestPreviewButton.addEventListener('click', () => {
      paintandquestPreviewButton.setAttribute("visible", false);

      const paintandquestVideoLink = document.querySelector("#paintandquest-video-link");
      const paintandquestVideoMp4 = document.querySelector("#paintandquest-video-mp4");
      paintandquestVideoLink.setAttribute("src", "#paintandquest-video-mp4");
      paintandquestVideoMp4.play();
    });

    // Register custom A-Frame component
    AFRAME.registerComponent('mytarget', {
      init: function () {
        this.el.addEventListener('targetFound', event => {
          console.log("Target found");
          paintandquestPreviewButton.setAttribute("visible", true);
          showInfo();
        });
        this.el.addEventListener('targetLost', event => {
          console.log("Target lost");
        });
      }
    });
  </script>
</html>
